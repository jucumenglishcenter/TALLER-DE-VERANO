<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComprensiÃ³n Auditiva | Tema 9: Planes y Despedidas Especiales</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .header { background: linear-gradient(135deg, #4CAF50 0%, #388E3C 100%); border-radius: 20px; padding: 25px; text-align: center; margin-bottom: 20px; color: white; box-shadow: 0 8px 30px rgba(76, 175, 80, 0.3); }
        .header h1 { font-size: 1.8rem; margin-bottom: 8px; }
        .header-info { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 10px; }
        .badge { background: rgba(255,255,255,0.2); padding: 6px 14px; border-radius: 20px; font-size: 0.85rem; }
        .instructions { background: white; border-radius: 16px; padding: 20px; margin-bottom: 20px; border-left: 4px solid #4CAF50; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .instructions h3 { color: #388E3C; margin-bottom: 10px; }
        .instructions ul { margin-left: 20px; color: #555; }
        .instructions li { margin: 8px 0; }
        .speed-control { background: white; border-radius: 16px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center; }
        .speed-control h3 { color: #388E3C; margin-bottom: 15px; }
        .speed-buttons { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .speed-btn { padding: 12px 24px; border: 2px solid #4CAF50; background: white; color: #4CAF50; border-radius: 25px; font-size: 0.95rem; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .speed-btn:hover { background: #E8F5E9; }
        .speed-btn.active { background: #4CAF50; color: white; }
        .score-panel { background: white; border-radius: 12px; padding: 15px 25px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1); flex-wrap: wrap; gap: 10px; }
        .score-item { text-align: center; flex: 1; min-width: 80px; }
        .score-item .label { font-size: 0.7rem; color: #888; text-transform: uppercase; }
        .score-item .value { font-size: 1.3rem; font-weight: 700; color: #4CAF50; }
        .score-item .value.correct { color: #4CAF50; }
        .score-item .value.incorrect { color: #f44336; }
        .level-section { margin-bottom: 30px; }
        .level-header { padding: 15px 20px; border-radius: 15px; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .level-header.easy { background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%); border-left: 5px solid #4CAF50; }
        .level-header.medium { background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%); border-left: 5px solid #FF9800; }
        .level-header.hard { background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%); border-left: 5px solid #f44336; }
        .level-header .icon { font-size: 1.5rem; }
        .level-header .title { font-size: 1.1rem; font-weight: 700; }
        .level-header.easy .title { color: #2E7D32; }
        .level-header.medium .title { color: #E65100; }
        .level-header.hard .title { color: #C62828; }
        .level-header .subtitle { font-size: 0.85rem; color: #666; margin-left: auto; }
        .audio-card { background: white; border-radius: 20px; padding: 25px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .audio-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #C8E6C9; }
        .audio-number { width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; font-weight: 700; color: white; }
        .audio-number.easy { background: linear-gradient(135deg, #4CAF50 0%, #388E3C 100%); }
        .audio-number.medium { background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%); }
        .audio-number.hard { background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%); }
        .audio-title { flex: 1; }
        .audio-title h3 { color: #333; font-size: 1rem; }
        .audio-title p { color: #888; font-size: 0.8rem; margin-top: 3px; }
        .audio-player { background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px; text-align: center; }
        .play-btn { width: 70px; height: 70px; border-radius: 50%; border: none; background: linear-gradient(135deg, #4CAF50 0%, #388E3C 100%); color: white; font-size: 1.8rem; cursor: pointer; box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4); transition: all 0.3s; margin: 0 auto; }
        .play-btn:hover { transform: scale(1.1); }
        .play-btn.playing { background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%); }
        .text-container { margin-top: 15px; display: none; }
        .text-container.show { display: block; }
        .audio-text { padding: 15px; background: rgba(255,255,255,0.95); border-radius: 10px; text-align: left; border-left: 4px solid #4CAF50; }
        .audio-text p { color: #333; line-height: 1.7; font-size: 0.9rem; }
        .audio-text .label { font-size: 0.7rem; color: #4CAF50; font-weight: 600; margin-bottom: 8px; text-transform: uppercase; }
        .spanish-text { margin-top: 10px; padding: 15px; background: #FFF8E1; border-radius: 10px; text-align: left; border-left: 4px solid #FFA000; display: none; }
        .spanish-text.show { display: block; }
        .spanish-text p { color: #5D4037; line-height: 1.7; font-size: 0.9rem; }
        .spanish-text .label { font-size: 0.7rem; color: #F57C00; font-weight: 600; margin-bottom: 8px; text-transform: uppercase; }
        .text-buttons { margin-top: 15px; display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .text-btn { padding: 8px 16px; border: 2px solid #4CAF50; background: white; color: #4CAF50; border-radius: 20px; font-size: 0.8rem; cursor: pointer; transition: all 0.3s; }
        .text-btn:hover { background: #E8F5E9; }
        .text-btn.active { background: #4CAF50; color: white; }
        .text-btn.spanish { border-color: #FFA000; color: #F57C00; }
        .text-btn.spanish:hover { background: #FFF8E1; }
        .text-btn.spanish.active { background: #FFA000; color: white; }
        .question-section { margin-top: 15px; }
        .question-section h4 { color: #388E3C; margin-bottom: 12px; font-size: 0.95rem; }
        .question-text { background: #F5F5F5; padding: 12px 15px; border-radius: 10px; margin-bottom: 12px; font-size: 0.95rem; color: #333; }
        .options-container { display: flex; flex-direction: column; gap: 8px; }
        .option { display: flex; align-items: center; gap: 12px; padding: 12px 14px; background: #FAFAFA; border: 2px solid #E0E0E0; border-radius: 10px; cursor: pointer; transition: all 0.2s; }
        .option:hover:not(.disabled) { border-color: #4CAF50; background: #E8F5E9; }
        .option.correct { border-color: #4CAF50; background: #E8F5E9; }
        .option.incorrect { border-color: #f44336; background: #FFEBEE; }
        .option.show-correct { border-color: #4CAF50; background: #E8F5E9; }
        .option.disabled { pointer-events: none; }
        .option-letter { width: 28px; height: 28px; background: #E0E0E0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; color: #666; }
        .option.correct .option-letter, .option.show-correct .option-letter { background: #4CAF50; color: white; }
        .option.incorrect .option-letter { background: #f44336; color: white; }
        .option-text { flex: 1; color: #333; font-size: 0.9rem; }
        .feedback { margin-top: 12px; padding: 12px; border-radius: 8px; display: none; font-size: 0.85rem; }
        .feedback.show { display: block; }
        .feedback.correct { background: #E8F5E9; border: 1px solid #A5D6A7; color: #2E7D32; }
        .feedback.incorrect { background: #FFEBEE; border: 1px solid #EF9A9A; color: #C62828; }
        .results-panel { display: none; background: linear-gradient(135deg, #4CAF50 0%, #388E3C 100%); border-radius: 20px; padding: 30px; text-align: center; color: white; margin-top: 20px; }
        .results-panel.show { display: block; }
        .results-panel .trophy { font-size: 4rem; margin-bottom: 15px; }
        .results-panel h2 { font-size: 1.8rem; margin-bottom: 10px; }
        .results-score { font-size: 3rem; font-weight: 700; margin: 15px 0; }
        .results-breakdown { display: flex; justify-content: center; gap: 20px; margin: 20px 0; flex-wrap: wrap; }
        .breakdown-item { background: rgba(255,255,255,0.2); padding: 15px 25px; border-radius: 15px; text-align: center; }
        .breakdown-item .level-name { font-size: 0.8rem; opacity: 0.9; margin-bottom: 5px; }
        .breakdown-item .level-score { font-size: 1.5rem; font-weight: 700; }
        .results-message { font-size: 1rem; opacity: 0.9; margin-top: 15px; }
        .btn-retry { margin-top: 20px; padding: 15px 40px; background: white; color: #4CAF50; border: none; border-radius: 30px; font-size: 1rem; font-weight: 600; cursor: pointer; }
        .btn-retry:hover { transform: scale(1.05); }
        .final-congrats { background: linear-gradient(135deg, #FFD700 0%, #FFA000 100%); border-radius: 16px; padding: 20px; margin-bottom: 20px; text-align: center; color: #5D4037; box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3); }
        .final-congrats h3 { font-size: 1.2rem; margin-bottom: 8px; }
        .final-congrats p { font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ ComprensiÃ³n Auditiva</h1>
            <div class="header-info">
                <span class="badge">ğŸ“— MÃ³dulo 3</span>
                <span class="badge">ğŸ¯ Tema 9: Planes y Despedidas</span>
                <span class="badge">ğŸ”Š 10 Audios</span>
            </div>
        </div>
        
        <div class="final-congrats">
            <h3>ğŸ‰ Â¡Ãšltimo Tema del Curso!</h3>
            <p>Este es el tema final. Â¡Demuestra todo lo que has aprendido!</p>
        </div>
        
        <div class="instructions">
            <h3>ğŸ“‹ Instrucciones</h3>
            <ul>
                <li>Escucha cada audio presionando el botÃ³n â–¶ï¸</li>
                <li>Puedes escuchar las veces que necesites</li>
                <li>Ajusta la velocidad si necesitas escuchar mÃ¡s lento</li>
                <li>Si necesitas ayuda, puedes ver el texto en inglÃ©s y en espaÃ±ol</li>
            </ul>
        </div>
        
        <div class="speed-control">
            <h3>ğŸšï¸ Velocidad del Audio</h3>
            <div class="speed-buttons">
                <button class="speed-btn" onclick="setSpeed(0.6)" data-speed="0.6">ğŸ¢ Muy Lento</button>
                <button class="speed-btn" onclick="setSpeed(0.8)" data-speed="0.8">ğŸš¶ Lento</button>
                <button class="speed-btn active" onclick="setSpeed(1)" data-speed="1">ğŸƒ Normal</button>
            </div>
        </div>
        
        <div class="score-panel">
            <div class="score-item"><div class="label">Respondidas</div><div class="value" id="answeredCount">0/10</div></div>
            <div class="score-item"><div class="label">Correctas</div><div class="value correct" id="correctCount">0</div></div>
            <div class="score-item"><div class="label">Incorrectas</div><div class="value incorrect" id="incorrectCount">0</div></div>
        </div>
        
        <!-- NIVEL FÃCIL -->
        <div class="level-section">
            <div class="level-header easy"><span class="icon">ğŸŸ¢</span><span class="title">Nivel FÃ¡cil</span><span class="subtitle">Actividades 1-4</span></div>
            
            <div class="audio-card" id="card1">
                <div class="audio-header"><div class="audio-number easy">1</div><div class="audio-title"><h3>MaÃ±ana</h3><p>Planes para maÃ±ana</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(1)" id="playBtn1">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(1)" id="textBtn1">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(1)" id="spanishBtn1">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer1">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Emma said: "Tomorrow I will visit my grandma."</p></div>
                        <div class="spanish-text" id="spanish1"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Emma dijo: "MaÃ±ana visitarÃ© a mi abuela."</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuÃ© significa "tomorrow"?</div>
                    <div class="options-container" id="options1">
                        <div class="option" onclick="selectAnswer(1, 'a', 'b')"><span class="option-letter">A</span><span class="option-text">Ayer</span></div>
                        <div class="option" onclick="selectAnswer(1, 'b', 'b')"><span class="option-letter">B</span><span class="option-text">MaÃ±ana</span></div>
                        <div class="option" onclick="selectAnswer(1, 'c', 'b')"><span class="option-letter">C</span><span class="option-text">Hoy</span></div>
                    </div>
                    <div class="feedback" id="fb1"></div>
                </div>
            </div>
            
            <div class="audio-card" id="card2">
                <div class="audio-header"><div class="audio-number easy">2</div><div class="audio-title"><h3>La prÃ³xima semana</h3><p>Sophie tiene planes</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(2)" id="playBtn2">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(2)" id="textBtn2">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(2)" id="spanishBtn2">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer2">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Sophie said: "Next week is my birthday!"</p></div>
                        <div class="spanish-text" id="spanish2"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Sophie dijo: "Â¡La prÃ³xima semana es mi cumpleaÃ±os!"</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuÃ© significa "next week"?</div>
                    <div class="options-container" id="options2">
                        <div class="option" onclick="selectAnswer(2, 'a', 'a')"><span class="option-letter">A</span><span class="option-text">La prÃ³xima semana</span></div>
                        <div class="option" onclick="selectAnswer(2, 'b', 'a')"><span class="option-letter">B</span><span class="option-text">La semana pasada</span></div>
                        <div class="option" onclick="selectAnswer(2, 'c', 'a')"><span class="option-letter">C</span><span class="option-text">Esta semana</span></div>
                    </div>
                    <div class="feedback" id="fb2"></div>
                </div>
            </div>
            
            <div class="audio-card" id="card3">
                <div class="audio-header"><div class="audio-number easy">3</div><div class="audio-title"><h3>Estoy emocionada</h3><p>Emma estÃ¡ feliz</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(3)" id="playBtn3">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(3)" id="textBtn3">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(3)" id="spanishBtn3">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer3">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Emma said: "I'm excited! Summer is here!"</p></div>
                        <div class="spanish-text" id="spanish3"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Emma dijo: "Â¡Estoy emocionada! Â¡El verano estÃ¡ aquÃ­!"</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuÃ© significa "excited"?</div>
                    <div class="options-container" id="options3">
                        <div class="option" onclick="selectAnswer(3, 'a', 'c')"><span class="option-letter">A</span><span class="option-text">Cansada</span></div>
                        <div class="option" onclick="selectAnswer(3, 'b', 'c')"><span class="option-letter">B</span><span class="option-text">Triste</span></div>
                        <div class="option" onclick="selectAnswer(3, 'c', 'c')"><span class="option-letter">C</span><span class="option-text">Emocionada</span></div>
                    </div>
                    <div class="feedback" id="fb3"></div>
                </div>
            </div>
            
            <div class="audio-card" id="card4">
                <div class="audio-header"><div class="audio-number easy">4</div><div class="audio-title"><h3>Te extraÃ±arÃ©</h3><p>Despedida emotiva</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(4)" id="playBtn4">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(4)" id="textBtn4">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(4)" id="spanishBtn4">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer4">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Emma said to Sophie: "I will miss you!"</p></div>
                        <div class="spanish-text" id="spanish4"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Emma dijo a Sophie: "Â¡Te extraÃ±arÃ©!"</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuÃ© significa "I will miss you"?</div>
                    <div class="options-container" id="options4">
                        <div class="option" onclick="selectAnswer(4, 'a', 'b')"><span class="option-letter">A</span><span class="option-text">Te verÃ©</span></div>
                        <div class="option" onclick="selectAnswer(4, 'b', 'b')"><span class="option-letter">B</span><span class="option-text">Te extraÃ±arÃ©</span></div>
                        <div class="option" onclick="selectAnswer(4, 'c', 'b')"><span class="option-letter">C</span><span class="option-text">Te llamarÃ©</span></div>
                    </div>
                    <div class="feedback" id="fb4"></div>
                </div>
            </div>
        </div>
        
        <!-- NIVEL INTERMEDIO -->
        <div class="level-section">
            <div class="level-header medium"><span class="icon">ğŸŸ¡</span><span class="title">Nivel Intermedio</span><span class="subtitle">Actividades 5-7</span></div>
            
            <div class="audio-card" id="card5">
                <div class="audio-header"><div class="audio-number medium">5</div><div class="audio-title"><h3>Viajar</h3><p>Sophie tiene un viaje</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(5)" id="playBtn5">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(5)" id="textBtn5">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(5)" id="spanishBtn5">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer5">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Sophie said: "I will travel with my family this summer. I'm excited but sad too."</p></div>
                        <div class="spanish-text" id="spanish5"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Sophie dijo: "ViajarÃ© con mi familia este verano. Estoy emocionada pero tambiÃ©n triste."</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuÃ© significa "travel"?</div>
                    <div class="options-container" id="options5">
                        <div class="option" onclick="selectAnswer(5, 'a', 'a')"><span class="option-letter">A</span><span class="option-text">Viajar</span></div>
                        <div class="option" onclick="selectAnswer(5, 'b', 'a')"><span class="option-letter">B</span><span class="option-text">Trabajar</span></div>
                        <div class="option" onclick="selectAnswer(5, 'c', 'a')"><span class="option-letter">C</span><span class="option-text">Estudiar</span></div>
                    </div>
                    <div class="feedback" id="fb5"></div>
                </div>
            </div>
            
            <div class="audio-card" id="card6">
                <div class="audio-header"><div class="audio-number medium">6</div><div class="audio-title"><h3>Visitar</h3><p>Tom tiene planes</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(6)" id="playBtn6">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(6)" id="textBtn6">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(6)" id="spanishBtn6">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer6">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Tom said: "Next week, I will visit my grandparents. I will stay for two weeks."</p></div>
                        <div class="spanish-text" id="spanish6"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Tom dijo: "La prÃ³xima semana, visitarÃ© a mis abuelos. Me quedarÃ© dos semanas."</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuÃ© significa "visit"?</div>
                    <div class="options-container" id="options6">
                        <div class="option" onclick="selectAnswer(6, 'a', 'b')"><span class="option-letter">A</span><span class="option-text">Llamar</span></div>
                        <div class="option" onclick="selectAnswer(6, 'b', 'b')"><span class="option-letter">B</span><span class="option-text">Visitar</span></div>
                        <div class="option" onclick="selectAnswer(6, 'c', 'b')"><span class="option-letter">C</span><span class="option-text">ExtraÃ±ar</span></div>
                    </div>
                    <div class="feedback" id="fb6"></div>
                </div>
            </div>
            
            <div class="audio-card" id="card7">
                <div class="audio-header"><div class="audio-number medium">7</div><div class="audio-title"><h3>Espero verte pronto</h3><p>Despedida con esperanza</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(7)" id="playBtn7">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(7)" id="textBtn7">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(7)" id="spanishBtn7">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer7">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Emma said: "I hope to see you soon, Sophie!" Sophie replied: "I hope so too!"</p></div>
                        <div class="spanish-text" id="spanish7"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Emma dijo: "Â¡Espero verte pronto, Sophie!" Sophie respondiÃ³: "Â¡Yo tambiÃ©n espero eso!"</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuÃ© significa "I hope"?</div>
                    <div class="options-container" id="options7">
                        <div class="option" onclick="selectAnswer(7, 'a', 'c')"><span class="option-letter">A</span><span class="option-text">SÃ© que</span></div>
                        <div class="option" onclick="selectAnswer(7, 'b', 'c')"><span class="option-letter">B</span><span class="option-text">Quiero</span></div>
                        <div class="option" onclick="selectAnswer(7, 'c', 'c')"><span class="option-letter">C</span><span class="option-text">Espero</span></div>
                    </div>
                    <div class="feedback" id="fb7"></div>
                </div>
            </div>
        </div>
        
        <!-- NIVEL DIFÃCIL -->
        <div class="level-section">
            <div class="level-header hard"><span class="icon">ğŸ”´</span><span class="title">Nivel DifÃ­cil</span><span class="subtitle">Actividades 8-10</span></div>
            
            <div class="audio-card" id="card8">
                <div class="audio-header"><div class="audio-number hard">8</div><div class="audio-title"><h3>Planes de todos</h3><p>Los tres amigos comparten</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(8)" id="playBtn8">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(8)" id="textBtn8">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(8)" id="spanishBtn8">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer8">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Sophie said: "I will travel with my family." Tom said: "I will visit my grandparents." Emma said: "I will stay in the city and explore."</p></div>
                        <div class="spanish-text" id="spanish8"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Sophie dijo: "ViajarÃ© con mi familia." Tom dijo: "VisitarÃ© a mis abuelos." Emma dijo: "Me quedarÃ© en la ciudad y explorarÃ©."</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿QuiÃ©n viajarÃ¡ con su familia?</div>
                    <div class="options-container" id="options8">
                        <div class="option" onclick="selectAnswer(8, 'a', 'a')"><span class="option-letter">A</span><span class="option-text">Sophie</span></div>
                        <div class="option" onclick="selectAnswer(8, 'b', 'a')"><span class="option-letter">B</span><span class="option-text">Tom</span></div>
                        <div class="option" onclick="selectAnswer(8, 'c', 'a')"><span class="option-letter">C</span><span class="option-text">Emma</span></div>
                    </div>
                    <div class="feedback" id="fb8"></div>
                </div>
            </div>
            
            <div class="audio-card" id="card9">
                <div class="audio-header"><div class="audio-number hard">9</div><div class="audio-title"><h3>El futuro con "will"</h3><p>Planes de verano</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(9)" id="playBtn9">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(9)" id="textBtn9">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(9)" id="spanishBtn9">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer9">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Emma said: "What will you do this summer?" Sophie said: "I will travel. I will visit many places. I will take photos!" Emma said: "That sounds fun!"</p></div>
                        <div class="spanish-text" id="spanish9"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Emma dijo: "Â¿QuÃ© harÃ¡s este verano?" Sophie dijo: "ViajarÃ©. VisitarÃ© muchos lugares. Â¡TomarÃ© fotos!" Emma dijo: "Â¡Eso suena divertido!"</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿Para quÃ© se usa "will" en inglÃ©s?</div>
                    <div class="options-container" id="options9">
                        <div class="option" onclick="selectAnswer(9, 'a', 'b')"><span class="option-letter">A</span><span class="option-text">Para hablar del pasado</span></div>
                        <div class="option" onclick="selectAnswer(9, 'b', 'b')"><span class="option-letter">B</span><span class="option-text">Para hablar del futuro</span></div>
                        <div class="option" onclick="selectAnswer(9, 'c', 'b')"><span class="option-letter">C</span><span class="option-text">Para hacer preguntas</span></div>
                    </div>
                    <div class="feedback" id="fb9"></div>
                </div>
            </div>
            
            <div class="audio-card" id="card10">
                <div class="audio-header"><div class="audio-number hard">10</div><div class="audio-title"><h3>Despedida final</h3><p>Los amigos se despiden</p></div></div>
                <div class="audio-player">
                    <button class="play-btn" onclick="playAudio(10)" id="playBtn10">â–¶ï¸</button>
                    <div class="text-buttons">
                        <button class="text-btn" onclick="toggleText(10)" id="textBtn10">ğŸ”¤ Ver texto en inglÃ©s</button>
                        <button class="text-btn spanish" onclick="toggleSpanish(10)" id="spanishBtn10">ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol</button>
                    </div>
                    <div class="text-container" id="textContainer10">
                        <div class="audio-text"><div class="label">ğŸ”¤ Texto en InglÃ©s</div><p>Sophie said: "I will miss you both! I will travel all summer." Emma said: "I will miss you too! I hope to see you soon!" Tom said: "See you soon! Have a great trip!" Sophie said: "Thank you! Goodbye, friends! See you soon!"</p></div>
                        <div class="spanish-text" id="spanish10"><div class="label">ğŸ‡ªğŸ‡¸ TraducciÃ³n</div><p>Sophie dijo: "Â¡Los extraÃ±arÃ© a ambos! ViajarÃ© todo el verano." Emma dijo: "Â¡Yo tambiÃ©n te extraÃ±arÃ©! Â¡Espero verte pronto!" Tom dijo: "Â¡Hasta pronto! Â¡Que tengas un buen viaje!" Sophie dijo: "Â¡Gracias! Â¡AdiÃ³s, amigos! Â¡Hasta pronto!"</p></div>
                    </div>
                </div>
                <div class="question-section">
                    <h4>â“ Pregunta</h4>
                    <div class="question-text">Â¿CÃ³mo se despiden los amigos?</div>
                    <div class="options-container" id="options10">
                        <div class="option" onclick="selectAnswer(10, 'a', 'c')"><span class="option-letter">A</span><span class="option-text">EstÃ¡n enojados</span></div>
                        <div class="option" onclick="selectAnswer(10, 'b', 'c')"><span class="option-letter">B</span><span class="option-text">EstÃ¡n tristes sin esperanza</span></div>
                        <div class="option" onclick="selectAnswer(10, 'c', 'c')"><span class="option-letter">C</span><span class="option-text">Con cariÃ±o y esperanza de verse pronto</span></div>
                    </div>
                    <div class="feedback" id="fb10"></div>
                </div>
            </div>
        </div>
        
        <div class="results-panel" id="resultsPanel">
            <div class="trophy" id="trophy">ğŸ†</div>
            <h2 id="resultsTitle">Â¡Excelente!</h2>
            <div class="results-score" id="resultsScore">0/10</div>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="level-name">ğŸŸ¢ FÃ¡cil</div><div class="level-score" id="easyScore">0/4</div></div>
                <div class="breakdown-item"><div class="level-name">ğŸŸ¡ Intermedio</div><div class="level-score" id="mediumScore">0/3</div></div>
                <div class="breakdown-item"><div class="level-name">ğŸ”´ DifÃ­cil</div><div class="level-score" id="hardScore">0/3</div></div>
            </div>
            <div class="results-message" id="resultsMessage"></div>
            <button class="btn-retry" onclick="location.reload()">ğŸ”„ Intentar de nuevo</button>
        </div>
    </div>

    <script>
        let currentSpeed = 1, answered = 0, correct = 0, incorrect = 0;
        let easyCorrect = 0, mediumCorrect = 0, hardCorrect = 0;
        let answeredQuestions = {};
        let synthesis = window.speechSynthesis, voices = [], englishVoice = null, isPlaying = false;
        
        const audioTexts = {
            1: 'Emma said: "Tomorrow I will visit my grandma."',
            2: 'Sophie said: "Next week is my birthday!"',
            3: 'Emma said: "I\'m excited! Summer is here!"',
            4: 'Emma said to Sophie: "I will miss you!"',
            5: 'Sophie said: "I will travel with my family this summer. I\'m excited but sad too."',
            6: 'Tom said: "Next week, I will visit my grandparents. I will stay for two weeks."',
            7: 'Emma said: "I hope to see you soon, Sophie!" Sophie replied: "I hope so too!"',
            8: 'Sophie said: "I will travel with my family." Tom said: "I will visit my grandparents." Emma said: "I will stay in the city and explore."',
            9: 'Emma said: "What will you do this summer?" Sophie said: "I will travel. I will visit many places. I will take photos!" Emma said: "That sounds fun!"',
            10: 'Sophie said: "I will miss you both! I will travel all summer." Emma said: "I will miss you too! I hope to see you soon!" Tom said: "See you soon! Have a great trip!" Sophie said: "Thank you! Goodbye, friends! See you soon!"'
        };
        
        const feedbacks = {
            1: { correct: "âœ“ Â¡Correcto! 'Tomorrow' = maÃ±ana.", incorrect: "âœ— 'Tomorrow' significa 'maÃ±ana' (el dÃ­a despuÃ©s de hoy)." },
            2: { correct: "âœ“ Â¡Exacto! 'Next week' = la prÃ³xima semana.", incorrect: "âœ— 'Next' = prÃ³ximo/siguiente. 'Next week' = la prÃ³xima semana." },
            3: { correct: "âœ“ Â¡Perfecto! 'Excited' = emocionado/a.", incorrect: "âœ— 'Excited' significa 'emocionado/a' (muy feliz por algo)." },
            4: { correct: "âœ“ Â¡Correcto! 'I will miss you' = Te extraÃ±arÃ©.", incorrect: "âœ— 'Miss' = extraÃ±ar. 'I will miss you' = Te extraÃ±arÃ©." },
            5: { correct: "âœ“ Â¡Muy bien! 'Travel' = viajar.", incorrect: "âœ— 'Travel' significa 'viajar'." },
            6: { correct: "âœ“ Â¡Perfecto! 'Visit' = visitar.", incorrect: "âœ— 'Visit' significa 'visitar' (ir a ver a alguien o algÃºn lugar)." },
            7: { correct: "âœ“ Â¡Correcto! 'I hope' = Espero.", incorrect: "âœ— 'Hope' = esperar (con deseo). 'I hope' = Espero." },
            8: { correct: "âœ“ Â¡Excelente! Sophie dijo 'I will travel WITH MY FAMILY'.", incorrect: "âœ— SOPHIE dijo 'I will TRAVEL with my FAMILY' = viajarÃ© con mi familia." },
            9: { correct: "âœ“ Â¡Perfecto! 'Will' se usa para hablar del FUTURO.", incorrect: "âœ— 'WILL' es el auxiliar del futuro. 'I will travel' = viajarÃ© (futuro)." },
            10: { correct: "âœ“ Â¡Excelente! Se despiden con cariÃ±o: 'I will miss you', 'I hope to see you soon', 'See you soon'.", incorrect: "âœ— Los amigos dicen 'I will MISS you' y 'See you SOON' = con cariÃ±o y esperanza." }
        };
        
        function loadVoices() {
            voices = synthesis.getVoices();
            if (voices.length === 0) { setTimeout(loadVoices, 100); return; }
            const pref = ['Google US English', 'Google UK English Female', 'Microsoft Zira', 'Samantha'];
            for (let n of pref) { let v = voices.find(x => x.name.includes(n)); if (v) { englishVoice = v; break; } }
            if (!englishVoice) englishVoice = voices.find(v => v.lang.startsWith('en')) || voices[0];
        }
        if (synthesis) { loadVoices(); synthesis.onvoiceschanged = loadVoices; }
        
        function setSpeed(s) { currentSpeed = s; document.querySelectorAll('.speed-btn').forEach(b => { b.classList.remove('active'); if (b.dataset.speed == s) b.classList.add('active'); }); }
        
        function playAudio(n) {
            const btn = document.getElementById(`playBtn${n}`);
            if (isPlaying) { synthesis.cancel(); isPlaying = false; document.querySelectorAll('.play-btn').forEach(b => { b.classList.remove('playing'); b.textContent = 'â–¶ï¸'; }); return; }
            const u = new SpeechSynthesisUtterance(audioTexts[n]);
            u.voice = englishVoice; u.rate = currentSpeed; u.pitch = 1; u.volume = 1;
            isPlaying = true; btn.classList.add('playing'); btn.textContent = 'â¹ï¸';
            u.onend = () => { isPlaying = false; btn.classList.remove('playing'); btn.textContent = 'â–¶ï¸'; };
            u.onerror = () => { isPlaying = false; btn.classList.remove('playing'); btn.textContent = 'â–¶ï¸'; };
            synthesis.speak(u);
        }
        
        function toggleText(n) {
            const c = document.getElementById(`textContainer${n}`), b = document.getElementById(`textBtn${n}`);
            if (c.classList.contains('show')) { c.classList.remove('show'); b.classList.remove('active'); b.textContent = 'ğŸ”¤ Ver texto en inglÃ©s'; }
            else { c.classList.add('show'); b.classList.add('active'); b.textContent = 'ğŸ”¤ Ocultar texto'; }
        }
        
        function toggleSpanish(n) {
            const s = document.getElementById(`spanish${n}`), b = document.getElementById(`spanishBtn${n}`), c = document.getElementById(`textContainer${n}`);
            if (!c.classList.contains('show')) { c.classList.add('show'); document.getElementById(`textBtn${n}`).classList.add('active'); document.getElementById(`textBtn${n}`).textContent = 'ğŸ”¤ Ocultar texto'; }
            if (s.classList.contains('show')) { s.classList.remove('show'); b.classList.remove('active'); b.textContent = 'ğŸ‡ªğŸ‡¸ Ver en espaÃ±ol'; }
            else { s.classList.add('show'); b.classList.add('active'); b.textContent = 'ğŸ‡ªğŸ‡¸ Ocultar espaÃ±ol'; }
        }
        
        function selectAnswer(n, sel, cor) {
            if (answeredQuestions[n]) return;
            answeredQuestions[n] = true;
            const opts = document.querySelectorAll(`#options${n} .option`), fb = document.getElementById(`fb${n}`), ok = sel === cor;
            answered++;
            if (ok) { correct++; if (n <= 4) easyCorrect++; else if (n <= 7) mediumCorrect++; else hardCorrect++; } else incorrect++;
            opts.forEach(o => { o.classList.add('disabled'); const l = o.querySelector('.option-letter').textContent.toLowerCase(); if (l === sel) o.classList.add(ok ? 'correct' : 'incorrect'); if (l === cor && !ok) o.classList.add('show-correct'); });
            fb.innerHTML = ok ? feedbacks[n].correct : feedbacks[n].incorrect;
            fb.classList.add('show', ok ? 'correct' : 'incorrect');
            updateScore();
            if (answered === 10) setTimeout(showResults, 1000);
        }
        
        function updateScore() { document.getElementById('answeredCount').textContent = `${answered}/10`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = incorrect; }
        
        function showResults() {
            const p = document.getElementById('resultsPanel'), pct = (correct / 10) * 100;
            document.getElementById('resultsScore').textContent = `${correct}/10`;
            document.getElementById('easyScore').textContent = `${easyCorrect}/4`;
            document.getElementById('mediumScore').textContent = `${mediumCorrect}/3`;
            document.getElementById('hardScore').textContent = `${hardCorrect}/3`;
            const tr = document.getElementById('trophy'), ti = document.getElementById('resultsTitle'), ms = document.getElementById('resultsMessage');
            if (pct >= 90) { tr.textContent = 'ğŸ†'; ti.textContent = 'Â¡Curso Completado!'; ms.textContent = 'Â¡Felicidades! Has dominado todos los temas de comprensiÃ³n auditiva.'; }
            else if (pct >= 70) { tr.textContent = 'ğŸ¥ˆ'; ti.textContent = 'Â¡Muy bien!'; ms.textContent = 'Â¡Excelente progreso! Repasa los temas difÃ­ciles.'; }
            else if (pct >= 50) { tr.textContent = 'ğŸ¥‰'; ti.textContent = 'Â¡Buen intento!'; ms.textContent = 'Practica mÃ¡s con los audios anteriores.'; }
            else { tr.textContent = 'ğŸ“š'; ti.textContent = 'Sigue practicando'; ms.textContent = 'Revisa los temas anteriores y vuelve a intentar.'; }
            p.classList.add('show'); p.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
